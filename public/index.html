<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–∏ –ó–∞–º–µ—Ç–∫–∏</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4f46e5">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìù –ú–æ–∏ –ó–∞–º–µ—Ç–∫–∏</h1>
            <div class="header-actions">
                <div id="user-info" style="display: none;">
                    <span id="user-email" style="margin-right: 15px;"></span>
                    <button id="theme-toggle" class="btn btn-secondary" style="margin-right: 10px;">üåô</button>
                    <button id="logout-btn" class="btn btn-secondary">–í—ã–π—Ç–∏</button>
                </div>
                <button id="install-btn" class="install-btn" style="display: none;">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            </div>
        </header>

        <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
        <div id="auth-screen" class="auth-screen">
            <div class="auth-container">
                <h2>–í—Ö–æ–¥ –≤ –ó–∞–º–µ—Ç–∫–∏</h2>
                <form id="auth-form">
                    <input type="email" id="email" placeholder="Email" required>
                    <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    <button type="submit" id="login-btn" class="btn btn-primary">–í–æ–π—Ç–∏</button>
                    <button type="button" id="signup-btn" class="btn btn-secondary">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                </form>
                <div id="auth-message" class="auth-message"></div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–æ) -->
        <div id="app-screen" style="display: none;">
            <!-- –ü–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
            <div class="categories-panel">
                <div class="categories-header">
                    <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <button id="add-category-btn" class="btn btn-secondary">+</button>
                </div>
                <div id="categories-list" class="categories-list">
                    <button class="category-btn active" data-category="all">–í—Å–µ –∑–∞–º–µ—Ç–∫–∏</button>
                </div>
            </div>

            <div class="main-content">
                <div class="editor">
                    <textarea id="note-text" placeholder="–ù–∞—á–Ω–∏—Ç–µ –ø–∏—Å–∞—Ç—å –∑–∞–º–µ—Ç–∫—É..."></textarea>
                    <div class="editor-actions">
                        <select id="category-select" class="category-select">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        </select>
                        <button id="save-btn" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button id="clear-btn" class="btn btn-secondary">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>
                </div>

                <div class="notes-list">
                    <h2 id="notes-title">–ú–æ–∏ –∑–∞–º–µ—Ç–∫–∏</h2>
                    <div id="notes-container"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div id="category-modal" class="modal">
        <div class="modal-content">
            <h3>–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
            <input type="text" id="category-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏" maxlength="100">
            <input type="color" id="category-color" value="#4f46e5">
            <div class="modal-actions">
                <button id="cancel-category-btn" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                <button id="create-category-btn" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- =========================================== -->
    <!-- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø FIREBASE (–í–´–ë–ï–†–ò –û–î–ò–ù –í–ê–†–ò–ê–ù–¢) -->
    <!-- =========================================== -->

    <!-- –í–ê–†–ò–ê–ù–¢ A: –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -->
    <!-- –†–ê–°–ö–û–ú–ú–ï–ù–¢–ò–†–£–ô —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -->
    <!-- <script src="config/dev-config.js"></script> -->

    <!-- –í–ê–†–ò–ê–ù–¢ B: –î–ª—è GitHub Pages —Å —Ä—É—á–Ω–æ–π –≤—Å—Ç–∞–≤–∫–æ–π -->
    <!-- –†–ê–°–ö–û–ú–ú–ï–ù–¢–ò–†–£–ô –∏ –ó–ê–ü–û–õ–ù–ò –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ -->
    <script>
        // üö® –í–ù–ò–ú–ê–ù–ò–ï: –ù–µ –∫–æ–º–º–∏—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏!
        // –ù–∞ GitHub Pages —ç—Ç–æ—Ç –±–ª–æ–∫ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Actions
        window.FIREBASE_CONFIG = {
            apiKey: "DEMO_KEY_DO_NOT_COMMIT",
            authDomain: "demo.firebaseapp.com",
            projectId: "demo-project",
            storageBucket: "demo.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef"
        };
    </script>

    <!-- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ Firebase -->
    <script src="firebase-config.js"></script>
    <script src="app.js"></script>
</body>
</html>